.fbfeed-section {
  /* espaciado ya controlado por .py-5 */
}

/* Wrapper del feed */
.fbfeed-embed {
  /* Altura por defecto (puedes sobreescribirla por página) */
  --fbfeed-h: clamp(420px, 70vh, 720px);

  /* Tokens de esqueleto (se adaptan a tema) */
  --fb-skel-a: #eee;
  --fb-skel-b: #f6f6f6;
  --fb-skel-radius: var(--bs-border-radius-lg, .75rem);
  --fb-border: var(--bs-border-color, rgba(0,0,0,.12));
  --fb-surface: var(--bs-body-bg, #fff);

  position: relative;
  min-height: var(--fbfeed-h);
}

/* Skeleton accesible visualmente (pon aria-hidden="true" en el HTML) */
.fbfeed-embed .skeleton {
  height: var(--fbfeed-h);
  border-radius: var(--fb-skel-radius);
  background: linear-gradient(90deg, var(--fb-skel-a), var(--fb-skel-b) 40%, var(--fb-skel-a) 80%);
  background-size: 200% 100%;
  box-shadow: 0 1px 2px rgba(0,0,0,.06);
  border: 1px solid var(--fb-border);

  @media (prefers-reduced-motion: no-preference) {
    animation: fb-skeleton 1.2s infinite linear both;
  }
}

/* Iframe del feed */
.fbfeed-embed iframe[data-fb-embed] {
  display: block;
  width: 100%;
  height: var(--fbfeed-h);
  border: 0;
  background: transparent;
  /* ayuda a evitar repaints al cambiar altura */
  contain: paint;
}

/* Variantes */
.fbfeed-embed--compact { --fbfeed-h: clamp(360px, 55vh, 560px); }
.fbfeed-embed--tall    { --fbfeed-h: clamp(520px, 80vh, 860px); }

/* Animación skeleton */
@keyframes fb-skeleton {
  0%   { background-position:   0% 0; }
  100% { background-position: 100% 0; }
}

/* Tema claro/oscuro (usa tu data-theme en <html> o <body>) */
[data-theme="light"] .fbfeed-embed {
  --fb-skel-a: #ececec;
  --fb-skel-b: #f7f7f7;
  --fb-border: rgba(0,0,0,.12);
  --fb-surface: #fff;
}
[data-theme="dark"] .fbfeed-embed {
  --fb-skel-a: #1f2937; /* gris-800 */
  --fb-skel-b: #374151; /* gris-700 */
  --fb-border: rgba(255,255,255,.12);
  --fb-surface: #0b1220;
  /* opcional: menos brillo en shadow en oscuro */
}

/* Alto contraste: aumenta el diferencial del skeleton */
@media (prefers-contrast: more) {
  .fbfeed-embed {
    --fb-skel-a: #d6d6d6;
    --fb-skel-b: #ffffff;
  }
}

/* Reduce motion: sin animación */
@media (prefers-reduced-motion: reduce) {
  .fbfeed-embed .skeleton {
    animation: none !important;
  }
}
